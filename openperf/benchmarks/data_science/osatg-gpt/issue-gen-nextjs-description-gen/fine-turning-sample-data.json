{"sentences": "ERR_SSL_WRONG_VERSION_NUMBER when doing fetch request in middleware to api route", "description": "### Link to the code that reproduces this issue\n\nhttps://codesandbox.io/p/devbox/stupefied-visvesvaraya-64xkvr\n\n### To Reproduce\n\nuse \"next\": \"^14.2.4\"\r\ncreate pages/api handler\r\nmake request in middleware using await fetch(${req.nextUrl.origin}/api/${handlerName}\r\n\n\n### Current vs. Expected behavior\n\nCurrent behaviour:\r\nfetch throws error when deployed:\r\n{ library: 'SSL routines', reason: 'wrong version number', code: 'ERR_SSL_WRONG_VERSION_NUMBER' }\r\n\r\nExpected behaviour:\r\nfetch makes requests successfully (as it was in next@12.3.3)\r\n\r\nNOTE: works locally, also works if we use await fetch('http:${req.nextUrl.host}/api/${handlerName}', but not sure if it is secure to switch to http protocol.\r\n\r\n\n\n### Provide environment information\n\n```bash\nOperating System:\r\n  Platform: darwin\r\n  Arch: arm64\r\n  Version: Darwin Kernel Version 23.3.0: Wed Dec 20 21:30:59 PST 2023; root:xnu-10002.81.5~7/RELEASE_ARM64_T6030\r\n  Available memory (MB): 18432\r\n  Available CPU cores: 11\r\nBinaries:\r\n  Node: 20.14.0\r\n  npm: 10.7.0\r\n  Yarn: 1.22.19\r\n  pnpm: N/A\r\nRelevant Packages:\r\n  next: 14.2.4 // Latest available version is detected (14.2.4).\r\n  eslint-config-next: 14.2.4\r\n  react: 18.3.1\r\n  react-dom: 18.3.1\r\n  typescript: 5.4.5\r\nNext.js Config:\r\n  output: N/A\n```\n\n\n### Which area(s) are affected? (Select all that apply)\n\nNot sure\n\n### Which stage(s) are affected? (Select all that apply)\n\nVercel (Deployed), Other (Deployed)\n\n### Additional context\n\n_No response_"}
